<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Music Player</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
      background-color: #121212;
      color: #fff;
      transition: background-color 0.3s ease, color 0.3s ease;
    }

    body.light-mode {
      background-color: #ffffff;
      color: #000;
    }

    .navbar {
      position: sticky;
      top: 0;
      width: 90%;
      margin: 10px auto;
      background-color: #1e1e1e;
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 10px 20px;
      box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.1);
      border-radius: 12px;
      z-index: 1000;
      transition: background-color 0.3s ease;
    }

    .navbar.light-mode {
      background-color: #f0f0f0;
    }

    #theme-switcher {
      background: none;
      border: none;
      color: inherit;
      font-size: 16px;
      cursor: pointer;
      margin-right: 10px;
    }

    .music-player {
      width: 90%;
      max-width: 500px;
      background-color: #1e1e1e;
      border-radius: 16px;
      padding: 20px;
      box-shadow: 0px 0px 20px 4px rgba(0, 123, 255, 0.8);
      text-align: center;
      margin: 20px auto;
      transition: background-color 0.3s ease, color 0.3s ease;
    }

    .music-player.light-mode {
      background-color: #f9f9f9;
      color: #000;
    }

    .section {
      margin-top: 20px;
      padding: 15px;
      background-color: #1e1e1e;
      border-radius: 12px;
      text-align: center;
      transition: background-color 0.3s ease;
    }

    .section.light-mode {
      background-color: #f9f9f9;
    }

    .section h3 {
      font-size: 18px;
      margin-bottom: 10px;
    }

    .section p {
      font-size: 14px;
      color: #aaa;
    }

    #ai-playlist-prompt {
      width: 100%;
      margin-top: 10px;
      padding: 10px;
      font-size: 16px;
      border: 1px solid #ccc;
      border-radius: 8px;
      background-color: #121212;
      color: #fff;
      transition: background-color 0.3s ease, color 0.3s ease;
    }

    #ai-playlist-prompt.light-mode {
      background-color: #ffffff;
      color: #000;
    }

    #generate-playlist {
      margin-top: 10px;
      padding: 10px 20px;
      font-size: 16px;
      color: #fff;
      background-color: #007bff;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      transition: background-color 0.3s ease;
    }

    #generate-playlist:hover {
      background-color: #0056b3;
    }
  </style>
</head>
<body>
  <!-- Sticky Navbar -->
  <div class="navbar">
    <button id="theme-switcher" title="Toggle Theme">🌙</button>
  </div>

  <!-- Music Player Box -->
  <div class="music-player">
    <h1>Music Player</h1>

    <!-- AI Playlist Section -->
    <div class="section">
      <h3>AI Playlist Generator</h3>
      <input type="text" id="ai-playlist-prompt" placeholder="Describe your playlist (e.g., 'chill vibes')">
      <button id="generate-playlist">Generate Playlist</button>
      <div id="playlist-result" style="margin-top: 20px;"></div>
    </div>

    <!-- Today's Popular Section -->
    <div class="section" id="today-popular">
      <h3>Today's Popular</h3>
      <p>Loading...</p>
    </div>

    <!-- This Week's Popular Section -->
    <div class="section" id="week-popular">
      <h3>This Week's Popular</h3>
      <p>Loading...</p>
    </div>

    <!-- This Month's Popular Section -->
    <div class="section" id="month-popular">
      <h3>This Month's Popular</h3>
      <p>Loading...</p>
    </div>
  </div>

  <script>
    const themeSwitcher = document.getElementById('theme-switcher');
    const todayPopular = document.getElementById('today-popular');
    const weekPopular = document.getElementById('week-popular');
    const monthPopular = document.getElementById('month-popular');
    const aiPromptInput = document.getElementById('ai-playlist-prompt');
    const generatePlaylistButton = document.getElementById('generate-playlist');
    const playlistResult = document.getElementById('playlist-result');

    // Toggle theme
    themeSwitcher.addEventListener('click', () => {
      document.body.classList.toggle('light-mode');
      const isLightMode = document.body.classList.contains('light-mode');
      themeSwitcher.textContent = isLightMode ? "🌙" : "☀️";
    });

    // Fetch popular songs (mock function)
    async function fetchPopularSongs(timeframe) {
      // Replace with actual API call
      return new Promise(resolve => {
        setTimeout(() => {
          resolve([
            { title: "Song 1", artist: "Artist 1" },
            { title: "Song 2", artist: "Artist 2" },
            { title: "Song 3", artist: "Artist 3" }
          ]);
        }, 1000);
      });
    }

    // Display popular songs
    async function displayPopularSongs() {
      const todaySongs = await fetchPopularSongs('today');
      const weekSongs = await fetchPopularSongs('week');
      const monthSongs = await fetchPopularSongs('month');

      todayPopular.innerHTML = todaySongs.map(song => `<p>${song.title} by ${song.artist}</p>`).join('');
      weekPopular.innerHTML = weekSongs.map(song => `<p>${song.title} by ${song.artist}</p>`).join('');
      monthPopular.innerHTML = monthSongs.map(song => `<p>${song.title} by ${song.artist}</p>`).join('');
    }

    displayPopularSongs();

    // Generate AI Playlist
    generatePlaylistButton.addEventListener('click', () => {
      const prompt = aiPromptInput.value.trim();
      if (!prompt) {
        playlistResult.innerHTML = '<p style="color: red;">Please enter a description for your playlist.</p>';
        return;
      }

      // Mock AI response
      playlistResult.innerHTML = `<p>Generating playlist for "${prompt}"...</p>`;
      setTimeout(() => {
        playlistResult.innerHTML = `
          <p>Playlist for "${prompt}":</p>
          <ul>
            <li>Song A by Artist A</li>
            <li>Song B by Artist B</li>
            <li>Song C by Artist C</li>
          </ul>
        `;
      }, 2000);
    });
  </script>
</body>
</html>
