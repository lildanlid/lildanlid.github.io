<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Pro Website Builder</title>
  <style>
    /* === CSS STYLES (placeholder) === */
    body {
      font-family: Arial, sans-serif;
      margin: 40px;
      background-color: #121212;
      color: #f0f0f0;
    }

    .builder {
      background: #1e1e1e;
      padding: 15px;
      border-radius: 8px;
      margin-bottom: 20px;
    }

    .preview-box {
      background: #1e1e1e;
      padding: 20px;
      min-height: 300px;
      border: 1px solid #ccc;
      position: relative;
    }

    .draggable {
      position: absolute;
      cursor: move;
      user-select: none;
      resize: both;
      overflow: auto;
    }

    .delete-btn {
      position: absolute;
      top: -10px;
      right: -10px;
      background: red;
      color: white;
      border-radius: 50%;
      border: none;
      width: 20px;
      height: 20px;
      cursor: pointer;
      font-size: 14px;
      line-height: 20px;
    }

    textarea {
      width: 100%;
      font-family: monospace;
      margin-top: 20px;
    }
  </style>
</head>
<body>
  <h1>Pro Website Builder</h1>
  <div class="builder">
    <label>Select Element Type:</label>
    <select id="element-type">
      <option value="h1">Heading</option>
      <option value="p">Paragraph</option>
      <option value="img">Image (URL)</option>
      <option value="button">Button</option>
    </select>
    <input type="text" id="element-content" placeholder="Text or image URL" />
    <button onclick="addElement()">Add Element</button>
    <button onclick="generateCode()">Generate Code</button>
    <button onclick="clearPreview()">Clear</button>
  </div>
  <div class="preview-box" id="preview"></div>
  <textarea id="output" rows="12" readonly></textarea>

  <script>
    // === JS SCRIPT ===
    const preview = document.getElementById("preview");
    const output = document.getElementById("output");

    function addElement() {
      const type = document.getElementById("element-type").value;
      const content = document.getElementById("element-content").value;

      const wrapper = document.createElement("div");
      wrapper.className = "draggable";
      wrapper.style.top = "10px";
      wrapper.style.left = "10px";

      let el;
      if (type === "img") {
        el = document.createElement("img");
        el.src = content;
        el.style.width = "200px";
      } else {
        el = document.createElement(type);
        el.textContent = content;
        el.contentEditable = true;
      }

      const delBtn = document.createElement("button");
      delBtn.className = "delete-btn";
      delBtn.textContent = "Ã—";
      delBtn.onclick = () => wrapper.remove();

      wrapper.appendChild(el);
      wrapper.appendChild(delBtn);
      makeDraggable(wrapper);
      preview.appendChild(wrapper);
    }

    function makeDraggable(el) {
      let offsetX, offsetY;
      el.addEventListener("mousedown", (e) => {
        if (e.target.classList.contains("delete-btn")) return;
        offsetX = e.offsetX;
        offsetY = e.offsetY;

        function moveAt(ev) {
          el.style.left = (ev.pageX - preview.offsetLeft - offsetX) + "px";
          el.style.top = (ev.pageY - preview.offsetTop - offsetY) + "px";
        }

        function onMouseMove(ev) {
          moveAt(ev);
        }

        document.addEventListener("mousemove", onMouseMove);
        el.addEventListener("mouseup", () => {
          document.removeEventListener("mousemove", onMouseMove);
        }, { once: true });
      });
    }

    function generateCode() {
      let html = "<!DOCTYPE html>\n<html><head><style>body{position:relative;}.draggable{position:absolute;}</style></head><body>\n";
      document.querySelectorAll(".preview-box .draggable").forEach(el => {
        const copy = el.cloneNode(true);
        copy.querySelector(".delete-btn").remove();
        html += copy.outerHTML + "\n";
      });
      html += "</body></html>";
      output.value = html;
    }

    function clearPreview() {
      preview.innerHTML = "";
      output.value = "";
    }
  </script>
</body>
</html>
