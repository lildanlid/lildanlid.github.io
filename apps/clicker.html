<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Planet Clicker</title>
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <style>
    body {
      margin: 0;
      font-family: sans-serif;
      background: #111;
      color: #fff;
      display: flex;
      height: 100vh;
    }
    .sidebar {
      width: 240px;
      background: #222;
      padding: 20px;
      display: flex;
      flex-direction: column;
    }
    .sidebar button {
      margin: 5px 0;
      padding: 10px;
      border: none;
      background: #333;
      color: #fff;
      cursor: pointer;
      border-radius: 12px;
    }
    .main {
      flex: 1;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      position: relative;
    }
    .click-box {
      width: 300px;
      height: 300px;
      background: #333;
      border-radius: 20px;
      display: flex;
      justify-content: center;
      align-items: center;
      position: relative;
      margin-bottom: 20px;
    }
    .click-box .arrow {
      position: absolute;
      top: 10px;
      font-size: 28px;
      cursor: pointer;
      user-select: none;
      color: white;
    }
    .click-box .arrow.left {
      left: 10px;
    }
    .click-box .arrow.right {
      right: 10px;
    }
    .error-box {
      position: fixed;
      top: 10px;
      left: 50%;
      transform: translateX(-50%);
      background: #e74c3c;
      padding: 10px 20px;
      border-radius: 10px;
      display: none;
    }
    .section-toggle {
      display: flex;
      margin-top: 10px;
    }
    .section-toggle button {
      flex: 1;
      border: none;
      background: #333;
      color: #fff;
      padding: 10px;
      cursor: pointer;
      border-radius: 12px;
    }
  </style>
</head>
<body>
  <div class="sidebar">
    <h3>Shop</h3>
    <div class="section-toggle">
      <button onclick="setShopSection('upgrades')">Upgrades</button>
      <button onclick="setShopSection('planets')">Planets</button>
      <button onclick="setShopSection('offline')">Offline</button>
    </div>
    <div id="shopSection">
      <button onclick="buyUpgrade('click')">Click Power (<span id="clickCost"></span>)</button>
      <button onclick="buyUpgrade('passive')">Passive Power (<span id="passiveCost"></span>)</button>
    </div>
    <h3>Leaderboard</h3>
    <div class="section-toggle">
      <button onclick="setLeaderboardType('energy')">‚ö°</button>
      <button onclick="setLeaderboardType('money')">üí∞</button>
      <button onclick="setLeaderboardType('time')">‚è±Ô∏è</button>
    </div>
    <ul id="leaderboardList"></ul>
  </div>
  <div class="main">
    <div id="errorBox" class="error-box"></div>
    <div class="click-box" onclick="clickEnergy()">
      <span id="planetName"></span>
      <span class="arrow left material-icons" onclick="event.stopPropagation(); prevPlanet();">arrow_back</span>
      <span class="arrow right material-icons" onclick="event.stopPropagation(); nextPlanet();">arrow_forward</span>
    </div>
    <h2>‚ö° Energy: <span id="energy">0</span></h2>
  </div>
  <script>
    let shopSection = 'upgrades';
    function setShopSection(section) {
      shopSection = section;
      const container = document.getElementById('shopSection');
      container.innerHTML = '';
      if (section === 'upgrades') {
        container.innerHTML = `
          <button onclick="buyUpgrade('click')">Click Power (<span id="clickCost"></span>)</button>
          <button onclick="buyUpgrade('passive')">Passive Power (<span id="passiveCost"></span>)</button>
        `;
      } else if (section === 'planets') {
        container.innerHTML = `<button onclick="buyNextPlanet()">Next Planet (<span id="planetCostShop"></span>)</button>`;
      } else if (section === 'offline') {
        container.innerHTML = `<button onclick="buyOfflineTime()">Buy Offline Time (Max 12H)</button>`;
      }
    }

    let offlineTime = 0;
    function buyOfflineTime() {
      if (offlineTime >= 43200) return showError('Max offline time reached.');
      if (energy >= 1000) {
        offlineTime += 3600;
        if (offlineTime > 43200) offlineTime = 43200;
        energy -= 1000;
        showError('Offline time purchased: +1h');
      } else {
        showError('Not enough energy for offline time.');
      }
      saveData();
      updateUI();
    }
  </script>
</body>
</html>
